version: '3'
services:

  producer1:
    image: lcarneirofreitas/producer-kafka
    network_mode: host

  producer2:
    image: lcarneirofreitas/producer-kafka
    network_mode: host

  consumer1:
    image: lcarneirofreitas/consumer-kafka
    network_mode: host

  consumer2:
    image: lcarneirofreitas/consumer-kafka
    network_mode: host

  consumer3:
    image: lcarneirofreitas/consumer-kafka
    network_mode: host

  consumer4:
    image: lcarneirofreitas/consumer-kafka
    network_mode: host

  kafka-manager:
    image: sheepkiller/kafka-manager:latest
    network_mode: host
    environment:
      ZK_HOSTS: zookeeper1:2181,zookeeper2:2181,zookeeper3:2181
      APPLICATION_SECRET: letmein
      KM_ARGS: -Djava.net.preferIPv4Stack=true
